<!DOCTYPE html>
<html dir="ltr" lang="en"><head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <title>Aaron's News</title>
  <meta name="description" content="Aaron's news - mostly nerdy tech links">
  <meta name="keywords" content="august, 2019, tech, software, frontend, social, sustainability, vancouver">
  <link rel="author" href="https://amorris.ca/">
  <meta name="updated" content="2019-07-31" scheme="yyyy-mm-dd">
  <!-- random external stuff -->
  <meta name="twitter:card" content="Software news and updates by Aaron.">
  <meta name="twitter:site" content="@aaorris">
  <meta name="og:title" content="Aaron Morris">
  <meta name="og:description" content="Software news and updates by Aaron.  ">
  <meta name="og:url" content="https://amorris.ca/">
  <meta name="og:image" content="https://amorris.ca/portrait.jpg">
  <!-- -->
  <link rel="stylesheet" href="index_files/reset.css">
  <link rel="stylesheet" href="index_files/theme.css">
  <!-- base href="https://amorris.ca/" -->
</head>

<body class="news">
  <h2><a href="https://amorris.ca/news/">News</a></h2>
  <h3><a href="https://amorris.ca/">Aaron Morris</a></h3>
  <section class="previous-months">
    <div>Earlier: </div>
    <h4><a href="https://amorris.ca/news/2019/august.html" style="text-decoration: underline">August</a></h4>
    <h4><a href="https://amorris.ca/news/2019/july.html" style="text-decoration: underline">July</a></h4>
    <h4><a href="https://amorris.ca/news/2019/june.html" style="text-decoration: underline">June</a></h4>
    <h4><a href="https://amorris.ca/news/2019/may.html" style="text-decoration: underline">May</a></h4>
    <h4><a href="https://amorris.ca/news/2019/april.html" style="text-decoration: underline">April</a></h4>
  </section>
  <h4>August</h4>
  <pre content-type="tablatal" style="display: none;">
title                summary                                       tags           url                                                                                                                     
Moden Load Balancing An intro to load balancing and proxies        web tech       https://blog.envoyproxy.io/introduction-to-modern-network-load-balancing-and-proxying-a57f6ff80236
Solar Sailboats      Shipping with autonomous sail boats           solarpunk tech https://octodon.social/@cathal/102722404991051185
    </pre>
  <h5>All Tags</h5>
  <button onclick="document.querySelectorAll('li.link-item').forEach(tag => tag.hidden = false); document.location.hash = ''">
    Clear Filters
  </button>
  <ul class="all-tags" id="allTags">
    <li class="tag-item">
      <a href="#solarpunk" class="shared tag" itemprop="articleSection">#solarpunk</a>
    </li>
  
    <li class="tag-item">
      <a href="#tech" class="shared tag" itemprop="articleSection">#tech</a>
    </li>
  </ul>
  <template id="item">
    <li class="link-item">
      <article itemscope="" itemtype="https://schema.org/SocialMediaPosting">
        <h3><a class="shared" href="https://amorris.ca/news/url" itemprop="headline">title</a></h3>
        <q class="shared" itemprop="articleBody">summary</q>
        <ul class="tags"></ul>
        <span itemprop="dateCreated" hidden="">2019-09-02</span>
        <a itemprop="image" href="https://amorris.ca/avatar.png" style="display: none">image</a>
        <span itemprop="author" itemscope="" itemtype="https://schema.org/Person" hidden="">
          <span itemprop="name">Aaron Morris</span>
          <a itemprop="url" href="https://amorris.ca/">https://amorris.ca/</a>
        </span>
        <span class="shared" hidden="">---</span>
      </article>
    </li>
  </template>
  <template id="tagTemplate">
    <li class="tag-item">
      <a href="#tag" class="shared tag" itemprop="articleSection">#tag</a>
    </li>
  </template>
  <h5>Links</h5>
  <ul id="linksElement">
    <li class="link-item">
      <article itemscope="" itemtype="https://schema.org/SocialMediaPosting">
        <h3><a class="shared" href="https://octodon.social/@cathal/102722404991051185" itemprop="headline">Solar Sailboats</a></h3>
        <q class="shared" itemprop="articleBody">Shipping with autonomous sail boats</q>
        <ul class="tags">
    <li class="tag-item">
      <a href="#solarpunk" class="shared tag" itemprop="articleSection">#solarpunk</a>
    </li>
  
    <li class="tag-item">
      <a href="#tech" class="shared tag" itemprop="articleSection">#tech</a>
    </li>
  </ul>
        <span itemprop="dateCreated" hidden="">2019-09-02</span>
        <a itemprop="image" href="https://amorris.ca/avatar.png" style="display: none">image</a>
        <span itemprop="author" itemscope="" itemtype="https://schema.org/Person" hidden="">
          <span itemprop="name">Aaron Morris</span>
          <a itemprop="url" href="https://amorris.ca/">https://amorris.ca/</a>
        </span>
        <span class="shared" hidden="">---</span>
      </article>
    </li>
  </ul>

  <ul id="news" class="news">
  </ul>
  <script type="module">
    import tablatal from '/lib/tablatal.js'
    const linkContent = document.querySelector('pre')
    const data = tablatal(linkContent.textContent)
    const output = document.createElement('ul')
    output.id = "linksElement"
    const elements = data.forEach(({ title, summary, tags, url }) => {
      // note: item is #item and importNode is instancing the template
      const element = document.importNode(item.content, true)
      const a = element.querySelector('a')
      a.href = url
      a.textContent = title
      const q = element.querySelector('q')
      q.textContent = summary
      const tagContainer = element.querySelector('.tags')
      const tagStrings = tags.split(/ /)
      tagStrings.forEach(tag => {
        const tagElement = document.importNode(tagTemplate.content, true)
        const a = tagElement.querySelector('a')
        a.textContent = a.href = `#${tag}`
        const tagCopy = tagElement.cloneNode(true)
        tagContainer.appendChild(tagElement)
        if (allTags.querySelector(`[href="#${tag}"]`)) return
        allTags.appendChild(tagCopy)
      })
      console.log(window.location.hash.replace('#', ''))
      if (window.location.hash && !tagStrings.includes(window.location.hash.replace('#', ''))) {
        element.querySelector('li').hidden = true
      }
      output.appendChild(element)
    })
    linksElement.replaceWith(output)
    linkContent.style.display = 'none'

    document.addEventListener('click', e => {
      if (!e.target.classList.contains('tag')) return console.log(e.target.classList)
      if (!e.target.tagName === 'A') return console.log('not a link')
      const tagText = e.target.href
      document.querySelectorAll('.link-item').forEach(item => {
        console.log(item)
        const tagLinks = item.querySelectorAll('.tag-item > a')
        let match = false
        tagLinks.forEach(item => {
          if (item.href === tagText) match = true
        })
        item.hidden = !match
      })
    })
  </script>











</body></html>
